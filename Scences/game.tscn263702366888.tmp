[gd_scene load_steps=11 format=3 uid="uid://bq8ghvgcqohe0"]

[ext_resource type="PackedScene" uid="uid://cnbp8y38r54fe" path="res://Tilemap/tile_map_layer.tscn" id="1_7ssav"]
[ext_resource type="PackedScene" uid="uid://cjvvfm3amwp6g" path="res://Objects/hill_controller.tscn" id="1_orwce"]
[ext_resource type="Script" uid="uid://dby4lk5nvcvhy" path="res://Scripts/game_controller.gd" id="1_oyoxi"]
[ext_resource type="PackedScene" uid="uid://3rt3p8lc1ve5" path="res://Objects/player.tscn" id="2_64q6e"]
[ext_resource type="Script" uid="uid://tji22c0jts2q" path="res://Scripts/disappear.gd" id="4_4axos"]
[ext_resource type="Script" uid="uid://dnx0bv13vltn5" path="res://Scripts/FileController.gd" id="6_2egs1"]
[ext_resource type="Script" uid="uid://carwt7braj1oh" path="res://Scripts/AudioController.gd" id="7_0l7ig"]
[ext_resource type="AudioStream" uid="uid://bw1l3tb184ogc" path="res://Audio/maou_game_village10.ogg" id="7_1ihqk"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yct1b"]
size = Vector2(1161, 40)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2s3jj"]
size = Vector2(94, 526)

[node name="Game" type="Node2D"]
script = ExtResource("1_oyoxi")

[node name="Hill controller" parent="." instance=ExtResource("1_orwce")]
position = Vector2(1186, 324)
create_area_Y = 8.0

[node name="TileMapLayer" parent="." instance=ExtResource("1_7ssav")]
position = Vector2(18, 9)

[node name="Player" parent="." node_paths=PackedStringArray("GameController") instance=ExtResource("2_64q6e")]
position = Vector2(102, 116)
GameController = NodePath("..")

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
position = Vector2(570.5, -19)
shape = SubResource("RectangleShape2D_yct1b")

[node name="disappear" type="Area2D" parent="."]
position = Vector2(80, 2)
script = ExtResource("4_4axos")

[node name="CollisionShape2D" type="CollisionShape2D" parent="disappear"]
position = Vector2(-163, 250)
shape = SubResource("RectangleShape2D_2s3jj")

[node name="Menu" type="Control" parent="."]
layout_mode = 3
anchors_preset = 0
offset_right = 40.0
offset_bottom = 40.0

[node name="Start" type="Button" parent="Menu"]
layout_mode = 0
offset_left = 422.0
offset_top = 231.0
offset_right = 728.0
offset_bottom = 326.0
text = "Start"

[node name="HighScore" type="Label" parent="Menu"]
layout_mode = 0
offset_left = 428.0
offset_top = 137.0
offset_right = 717.0
offset_bottom = 206.0
theme_override_font_sizes/font_size = 50
text = "最高分數：0"

[node name="GameTimer" type="Timer" parent="."]

[node name="Score" type="Label" parent="."]
offset_left = 971.0
offset_top = 8.0
offset_right = 1142.0
offset_bottom = 53.0
theme_override_font_sizes/font_size = 32
text = "0"
horizontal_alignment = 2

[node name="FileController" type="Node" parent="."]
script = ExtResource("6_2egs1")

[node name="AudioController" type="Node" parent="."]
script = ExtResource("7_0l7ig")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="AudioController" groups=["Audios"]]
stream = ExtResource("7_1ihqk")
parameters/looping = false

[connection signal="body_entered" from="disappear" to="disappear" method="_on_body_entered"]
[connection signal="button_down" from="Menu/Start" to="." method="GameStart"]
[connection signal="timeout" from="GameTimer" to="." method="update_score"]

[editable path="Hill controller"]
